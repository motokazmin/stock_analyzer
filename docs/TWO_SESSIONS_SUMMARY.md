# üìä –î–≤–µ –∑–∞–ø–∏—Å–∏ –Ω–∞ –¥–µ–Ω—å - –ø–æ–ª–Ω—ã–π —Ä–∞–∑–±–æ—Ä

## üîç –ß—Ç–æ –≤—ã –∑–∞–º–µ—Ç–∏–ª–∏

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∞–∫—Ü–∏–∏ –∏–º–µ—é—Ç:
- ‚úÖ **1 –∑–∞–ø–∏—Å—å –≤ –¥–µ–Ω—å**: SFIN, TATN, VKCO, EUTR, DIAS, DELI (260-261 —Å—Ç—Ä–æ–∫)
- ‚ö†Ô∏è **2 –∑–∞–ø–∏—Å–∏ –≤ –¥–µ–Ω—å**: SOFL, SVCB, FLOT (470-510 —Å—Ç—Ä–æ–∫)

---

## üéØ –ü—Ä–∏—á–∏–Ω–∞: –î–≤–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–µ—Å—Å–∏–∏ –Ω–∞ –ú–æ—Å–±–∏—Ä–∂–µ

–ù–∞ –ú–æ—Å–±–∏—Ä–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—Ç **–¥–≤–µ —Å–µ—Å—Å–∏–∏ —Ç–æ—Ä–≥–æ–≤–ª–∏**:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | T+0 (–û—Å–Ω–æ–≤–Ω–∞—è) | –†–ü–° (–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è) |
|----------|---|---|
| **–í—Ä–µ–º—è** | 10:00 - 18:45 | 19:00 - 23:50 |
| **–ù–∞–∑–≤–∞–Ω–∏–µ** | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –¥–µ–Ω—å | –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ç–æ—Ä–≥–æ–≤—ã–π —á–∞—Å |
| **–û–±—ä–µ–º** | –ë–æ–ª—å—à–æ–π (–º–∏–ª–ª–∏–æ–Ω—ã) | –ú–∞–ª–µ–Ω—å–∫–∏–π (—Å–æ—Ç–Ω–∏-—Ç—ã—Å—è—á–∏) |
| **–î–æ—Å—Ç—É–ø–Ω–∞ –¥–ª—è** | –í—Å–µ | –¢–æ–ª—å–∫–æ –∏–∑–±—Ä–∞–Ω–Ω—ã–µ –∞–∫—Ü–∏–∏ |

---

## üìå –ü—Ä–∏–º–µ—Ä: SOFL –Ω–∞ 2025-11-10

```csv
2025-11-10,85.04,85.04,78.54,79.3,26        ‚Üê –†–ü–° (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å–µ—Å—Å–∏—è)
2025-11-10,83.56,85.28,82.36,83.34,2150630  ‚Üê T+0 (–æ—Å–Ω–æ–≤–Ω–∞—è —Å–µ—Å—Å–∏—è)
```

**–†–∞–∑–Ω–∏—Ü–∞ –≤ —Ü–µ–Ω–µ:** 79.3 vs 83.34 (–ø–æ—á—Ç–∏ 5%)
**–†–∞–∑–Ω–∏—Ü–∞ –≤ –æ–±—ä–µ–º–µ:** 26 vs 2,150,630 (–≤ 80 —Ç—ã—Å—è—á —Ä–∞–∑!)

### –ß—Ç–æ —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
1. **–†–ü–° (19:00-23:50):**
   - –û—á–µ–Ω—å –º–∞–ª–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ (–æ–±—ä–µ–º 26)
   - –¶–µ–Ω–∞ 79.3 - —ç—Ç–æ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç "—Å–∏–ª—å–Ω—ã—Ö" –∏–≥—Ä–æ–∫–æ–≤
   - –ù–µ —Ä–µ–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ç–∏–≤–Ω–∞

2. **T+0 (10:00-18:45):**
   - –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è (–æ–±—ä–µ–º 2.15–ú)
   - –¶–µ–Ω–∞ 83.34 - –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è
   - –†–µ–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ç–∏–≤–Ω–∞

---

## ‚ùì –ö–∞–∫—É—é —Ü–µ–Ω—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞?

### ‚ùå –ù–ï –ì–û–î–ò–¢–°–Ø: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±–µ
```python
# –ï—Å–ª–∏ –æ—Å—Ç–∞–≤–∏–º –æ–±–µ –∑–∞–ø–∏—Å–∏:
2025-11-10: CLOSE = 79.3   (–†–ü–°)
2025-11-10: CLOSE = 83.34  (T+0)
# EMA –±—É–¥–µ—Ç –ø—Ä—ã–≥–∞—Ç—å –º–µ–∂–¥—É –Ω–∏–º–∏!
```

### ‚ùå –ù–ï –ì–û–î–ò–¢–°–Ø: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –†–ü–°
```python
# –ï—Å–ª–∏ –±–µ—Ä–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é —Å–µ—Å—Å–∏—é:
CLOSE = 79.3 (–æ–±—ä–µ–º 26)
# –≠—Ç–æ –≤—ã–±—Ä–æ—Å, –Ω–µ —Ä–µ–∞–ª—å–Ω–∞—è —Ü–µ–Ω–∞!
```

### ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å T+0
```python
# –ë–µ—Ä–µ–º –æ—Å–Ω–æ–≤–Ω—É—é —Å–µ—Å—Å–∏—é:
CLOSE = 83.34 (–æ–±—ä–µ–º 2,150,630)
# –≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è —Ü–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è!
```

---

## üîß –†–µ—à–µ–Ω–∏–µ: –í—ã–±—Ä–∞—Ç—å —Å–µ—Å—Å–∏—é —Å –±–æ–ª—å—à–∏–º –æ–±—ä–µ–º–æ–º

```python
# –í fix_csv_issues.py:
df = df.sort_values(['DATE', 'VOLUME'], ascending=[True, False])
df = df.drop_duplicates(subset=['DATE'], keep='first')
```

**–õ–æ–≥–∏–∫–∞:**
1. –°–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –¥–∞—Ç–µ (–≤–æ–∑—Ä–∞—Å—Ç–∞–Ω–∏–µ) –∏ –æ–±—ä–µ–º—É (—É–±—ã–≤–∞–Ω–∏–µ)
2. –î–ª—è –∫–∞–∂–¥–æ–π –¥–∞—Ç—ã –±–µ—Ä–µ–º –ø–µ—Ä–≤—É—é –∑–∞–ø–∏—Å—å (–º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –æ–±—ä–µ–º)
3. –†–µ–∑—É–ª—å—Ç–∞—Ç: —Ç–æ–ª—å–∫–æ T+0 (–æ—Å–Ω–æ–≤–Ω–∞—è —Å–µ—Å—Å–∏—è)

---

## üìä –ß—Ç–æ –±—ã–ª–æ –∏ —á—Ç–æ —Å—Ç–∞–ª–æ

### SOFL:

**–î–û:**
```
–í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫: 512
- –î—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –¥–∞—Ç: ~250
- –†–ü–° —Å–µ—Å—Å–∏–∏: ~250 (–≤—ã–±—Ä–æ—Å)
- T+0 —Å–µ—Å—Å–∏–∏: ~250 (–Ω–æ—Ä–º–∞–ª—å)
```

**–ü–û–°–õ–ï –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
```
–í—Å–µ–≥–æ —Å—Ç—Ä–æ–∫: 256 (–ø—Ä–∏–º–µ—Ä–Ω–æ)
- –¢–æ–ª—å–∫–æ T+0 (–æ—Å–Ω–æ–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏)
- –î—É–±–ª–µ–π: 0
- –ö–∞—á–µ—Å—Ç–≤–æ: 100% ‚úÖ
```

### SFIN (–Ω–∏—á–µ–≥–æ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å):
```
–î–û:  261 —Å—Ç—Ä–æ–∫ (–æ–¥–Ω–∞ —Å–µ—Å—Å–∏—è)
–ü–û–°–õ–ï: 261 —Å—Ç—Ä–æ–∫ (–æ–¥–Ω–∞ —Å–µ—Å—Å–∏—è) ‚úÖ
```

---

## ‚ú® –†–µ–∑—É–ª—å—Ç–∞—Ç

–í—Å–µ 22 –∞–∫—Ü–∏–∏ —Ç–µ–ø–µ—Ä—å –∏–º–µ—é—Ç:
- ‚úÖ –û–¥–Ω–∞ –∑–∞–ø–∏—Å—å –≤ –¥–µ–Ω—å
- ‚úÖ –û–¥–Ω–∞ —Ü–µ–Ω–∞ –∑–∞–∫—Ä—ã—Ç–∏—è (T+0)
- ‚úÖ –†–µ–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ç–∏–≤–Ω—ã–π –æ–±—ä–µ–º
- ‚úÖ –ß–∏—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

---

## üéØ –í–ª–∏—è–Ω–∏–µ –Ω–∞ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –∞–Ω–∞–ª–∏–∑–∞

| –ê–ª–≥–æ—Ä–∏—Ç–º | –ë—ã–ª–æ | –°—Ç–∞–ª–æ | –†–µ–∑—É–ª—å—Ç–∞—Ç |
|----------|------|-------|-----------|
| **EMA** | –ü—Ä—ã–≥–∞–µ—Ç –º–µ–∂–¥—É 79.3-83.34 | –°—Ç–∞–±–∏–ª—å–Ω–∞—è 83.34 | ‚úÖ –¢–æ—á–Ω–µ–µ |
| **RSI** | –°–∫–∞—á—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è | –ü–ª–∞–≤–Ω—ã–µ | ‚úÖ –ù–∞–¥–µ–∂–Ω–µ–µ |
| **S/R** | –õ–æ–∂–Ω—ã–µ —ç–∫—Å—Ç—Ä–µ–º—É–º—ã | –†–µ–∞–ª—å–Ω—ã–µ | ‚úÖ –¢–æ—á–Ω–µ–µ |
| **–¢—Ä–µ–Ω–¥** | –®—É–º–Ω—ã–π —Å–∏–≥–Ω–∞–ª | –ß–µ—Ç–∫–∏–π | ‚úÖ –õ—É—á—à–µ |

---

## üöÄ –ó–∞–ø—É—Å–∫ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

```bash
python fix_csv_issues.py
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üìÑ SOFL_full.csv
  –ù–∞–π–¥–µ–Ω–æ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è –¥–∞—Ç (–¥–≤–µ —Å–µ—Å—Å–∏–∏): 248
     2025-11-12: 2 –∑–∞–ø–∏—Å–∏
        O=84.64 C=85.96 V=33
        O=83.82 C=88.3 V=11,346,890
     ...
  ‚úÖ –û–±—ä–µ–¥–∏–Ω–µ–Ω–æ: 256 –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–µ—Å—Å–∏–π —É–¥–∞–ª–µ–Ω–æ
  –û—Å—Ç–∞–≤–ª–µ–Ω–∞ –æ—Å–Ω–æ–≤–Ω–∞—è —Å–µ—Å—Å–∏—è T+0 (–±–æ–ª—å—à–æ–π –æ–±—ä–µ–º)
```

---

## üìù –ò—Ç–æ–≥

**–î–≤–∞ –∑–∞–ø–∏—Å–∏ –≤ –¥–µ–Ω—å = –¥–≤–µ —Ç–æ—Ä–≥–æ–≤—ã–µ —Å–µ—Å—Å–∏–∏ –Ω–∞ –ú–æ—Å–±–∏—Ä–∂–µ.**

**–ß—Ç–æ –¥–µ–ª–∞–ª–∏:**
1. –ó–∞–º–µ—Ç–∏–ª–∏ —Ä–∞–∑–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫
2. –í—ã—è—Å–Ω–∏–ª–∏ –ø—Ä–∏—á–∏–Ω—É (–†–ü–° + T+0)
3. –í—ã–±—Ä–∞–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å–µ—Å—Å–∏—é (T+0 —Å –±–æ–ª—å—à–∏–º –æ–±—ä–µ–º–æ–º)
4. –ò—Å–ø—Ä–∞–≤–∏–ª–∏ –≤—Å–µ —Ñ–∞–π–ª—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ß–∏—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ, –≥–æ—Ç–æ–≤—ã–µ –∫ –∞–Ω–∞–ª–∏–∑—É! ‚úÖ

