# ‚ö° –ë—ã—Å—Ç—Ä–∞—è –®–ø–∞—Ä–≥–∞–ª–∫–∞

## üöÄ –ó–∞–ø—É—Å–∫

```bash
cd /home/roman/projects/ai/stock_analyzer
python main.py analyze
```

**–ì–æ—Ç–æ–≤–æ –∑–∞ 20-30 —Å–µ–∫—É–Ω–¥!**

---

## üìä –ß—Ç–æ –ü–æ–ª—É—á–∏—à—å

| –§–∞–π–ª | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|-----------|
| `reports/ANALYSIS_*.md` | üìã Markdown –∞–Ω–∞–ª–∏–∑ (—Ç–µ—Ö–Ω–∏–∫–∏, —Å–∏–≥–Ω–∞–ª—ã BUY/HOLD/SELL) |
| `stock_news.json` | üì∞ –ù–æ–≤–æ—Å—Ç–∏ (—Å–µ–π—á–∞—Å –ø—É—Å—Ç–æ) |
| `recommendations_archive.json` | üè¶ –ò—Å—Ç–æ—Ä–∏—è BUY —Å–∏–≥–Ω–∞–ª–æ–≤ |
| `stock_data/*.csv` | üìà –î–∞–Ω–Ω—ã–µ –ø–æ –∞–∫—Ü–∏—è–º |

---

## ü§ñ –°–æ–∑–¥–∞–Ω–∏–µ HTML –û—Ç—á—ë—Ç–∞

1. –û—Ç–∫—Ä–æ–π `promt.txt`
2. –í—Å—Ç–∞–≤—å **markdown –æ—Ç—á—ë—Ç** (–∏–∑ `reports/`) + **CSV –¥–∞–Ω–Ω—ã–µ** (–∏–∑ `stock_data/`)
3. –†–µ–∑—É–ª—å—Ç–∞—Ç: `recommendations/RECOMMENDATIONS_*.html`

---

## üîå –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ù–æ–≤–æ—Å—Ç–µ–π

**–¢–µ–∫—É—â–µ–µ:** MockNewsProvider (–∑–∞–≥–ª—É—à–∫–∞) ‚Üí **–Ω–æ–≤–æ—Å—Ç–µ–π –Ω–µ—Ç** ‚ö†Ô∏è

**–ö–æ–≥–¥–∞ MOEX –≤—ã–ø—É—Å—Ç–∏—Ç API:**

```python
# main.py
from news_integration import NewsIntegration
from news_providers.moex import MOEXNewsProvider

news = NewsIntegration(provider=MOEXNewsProvider())
# –ì–æ—Ç–æ–≤–æ! –ù–æ–≤–æ—Å—Ç–∏ –≤ –æ—Ç—á—ë—Ç–µ ‚úÖ
```

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** [NEWS_ARCHITECTURE.md](NEWS_ARCHITECTURE.md)

---

## üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

| –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä | –ü–µ—Ä–∏–æ–¥ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|--------|-----------|
| **RSI** | 14 | –ü–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç—å/–ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç—å |
| **EMA** | 12/26 | –°–∫–æ—Ä–æ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ü–µ–Ω—ã |
| **MA200** | 200 | –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–π —Ç—Ä–µ–Ω–¥ |
| **MA50** | 50 | –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–π —Ç—Ä–µ–Ω–¥ |
| **MA20** | 20 | –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–π —Ç—Ä–µ–Ω–¥ |
| **ADX** | 14 | –°–∏–ª–∞ —Ç—Ä–µ–Ω–¥–∞ (>25 = —Å–∏–ª—å–Ω—ã–π) |
| **MACD** | 12/26 | –ò–º–ø—É–ª—å—Å —Ç—Ä–µ–Ω–¥–∞ |
| **OBV** | - | –û–±—ä—ë–º –Ω–∞ –ø–æ–∫—É–ø–∫—É/–ø—Ä–æ–¥–∞–∂—É |
| **Bollinger** | 20/2 | –í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å/—É—Ä–æ–≤–Ω–∏ |

**–ü–æ–¥—Ä–æ–±–Ω–æ:** [TECHNICAL_PARAMETERS.md](TECHNICAL_PARAMETERS.md)

---

## ‚úÖ –°—Ç–∞—Ç—É—Å

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å |
|-----------|--------|
| –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| –¢–µ—Ö–∏–Ω–¥–µ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| –î–µ—Ç–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–µ–Ω–¥–æ–≤ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| False recovery —Ñ–∏–ª—å—Ç—Ä | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| BUY/HOLD/SELL —Å–∏–≥–Ω–∞–ª—ã | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| Markdown –æ—Ç—á—ë—Ç | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| HTML –æ—Ç—á—ë—Ç | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| **–ù–æ–≤–æ—Å—Ç–∏** | ‚ö†Ô∏è –û—Ç–∫–ª—é—á–µ–Ω–æ (MOEX API) |

---

## üéØ BUY –°–∏–≥–Ω–∞–ª—ã

**–ö–æ–≥–¥–∞ —Å–∏—Å—Ç–µ–º–∞ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç BUY:**

1. ‚úÖ –ï—Å—Ç—å —Å–∏–ª—å–Ω—ã–π –≤–æ—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–µ–Ω–¥ (ADX > 25)
2. ‚úÖ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—Ç
3. ‚úÖ **–ù–ï** —è–≤–ª—è–µ—Ç—Å—è "–ª–æ–∂–Ω—ã–º –æ—Ç—Å–∫–æ–∫–æ–º" (False Recovery)
4. ‚úÖ –ï—Å—Ç—å —Ç–æ—á–Ω—ã–µ —Ü–µ–ª–∏ (1:2 risk/reward)

**–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è false recovery:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç 5 –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤ (ADX, MACD, OBV, RSI, Bollinger)
- –ò—Å–∫–ª—é—á–∞–µ—Ç –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–æ —à—É–º–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã

---

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –û—Ç—á—ë—Ç–∞

### Markdown (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)

```
1. –¢–∞–±–ª–∏—Ü–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞ –ø–æ –∫–æ–º–ø–∞–Ω–∏—è–º
2. BUY —Å–∏–≥–Ω–∞–ª—ã (—Å —É—Ä–æ–≤–Ω—è–º–∏ –≤—Ö–æ–¥–∞)
3. HOLD –∞–∫—Ü–∏–∏ (–∂–¥—ë–º –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)
4. SELL/–ò–∑–±–µ–≥–∞—Ç—å (–Ω–∏—Å—Ö–æ–¥—è—â–∏–µ —Ç—Ä–µ–Ω–¥—ã)
```

### HTML (—á–µ—Ä–µ–∑ prompt)

```
1. üìä –†–µ–π—Ç–∏–Ω–≥ –∫–æ–º–ø–∞–Ω–∏–π
2. üü¢ –¢–û–ü-5 BUY —Å–∏–≥–Ω–∞–ª–æ–≤
3. üü° –ù–∞–±–ª—é–¥–µ–Ω–∏–µ (HOLD)
4. üî¥ –ò–∑–±–µ–≥–∞—Ç—å (SELL)
5. üìà –ò—Ç–æ–≥–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞
```

---

## üîß –ò–∑–º–µ–Ω–∏ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

### –ö–∞–∫–∏–µ –∞–∫—Ü–∏–∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É—é—Ç—Å—è?

`stock_data_manager.py` ‚Üí –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `tickers`

```python
tickers = ['SBER', 'LEAS', 'X5', ...]
```

### –¢–µ—Ö–ø–∞—Ä–∞–º–µ—Ç—Ä—ã

`technical_analysis.py` ‚Üí –º–µ—Ç–æ–¥ `__init__`:

```python
self.ma_periods = {'long': 200, 'medium': 50, 'short': 20}
self.rsi_period = 14
self.rsi_oversold = 30
self.rsi_overbought = 70
self.adx_threshold = 25
```

---

## üêõ –ß–∞—Å—Ç—ã–µ –ü—Ä–æ–±–ª–µ–º—ã

| –ü—Ä–æ–±–ª–µ–º–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|
| "–ù–æ–≤–æ—Å—Ç–µ–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ" | –ù–æ—Ä–º–∞–ª—å–Ω–æ! –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Mock. –ö–æ–≥–¥–∞ MOEX API ‚Üí –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |
| "HTML –±–µ–∑ –Ω–æ–≤–æ—Å—Ç–µ–π" | –û–∂–∏–¥–∞–µ–º–æ. –¢–µ—Ö–Ω–∏–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ 100% |
| "–û—à–∏–±–∫–∞ MOEX API" | –ü—Ä–æ–≤–µ—Ä—å –∏–Ω—Ç–µ—Ä–Ω–µ—Ç |
| "–ê–∫—Ü–∏—è –∫–∞–∫ False Recovery" | –°–∏—Å—Ç–µ–º–∞ —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —à—É–º (—Ö–æ—Ä–æ—à–æ!) |

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **[README.md](README.md)** ‚Äî –ù–∞—á–Ω–∏ –æ—Ç—Å—é–¥–∞ (–ø–æ–ª–Ω—ã–π –æ–±–∑–æ—Ä)
- **[NEWS_ARCHITECTURE.md](NEWS_ARCHITECTURE.md)** ‚Äî –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–æ–≤–æ—Å—Ç–µ–π
- **[NEWS_STATUS.md](NEWS_STATUS.md)** ‚Äî –°—Ç–∞—Ç—É—Å –∏ roadmap
- **[PROVIDER_TEMPLATE.md](PROVIDER_TEMPLATE.md)** ‚Äî –°–æ–∑–¥–∞—Ç—å —Å–≤–æ–π –ø—Ä–æ–≤–∞–π–¥–µ—Ä
- **[TECHNICAL_PARAMETERS.md](TECHNICAL_PARAMETERS.md)** ‚Äî –¢–µ—Ö–∏–Ω–¥–µ –¥–µ—Ç–∞–ª–∏
- **[CODE_AUDIT_REPORT.md](CODE_AUDIT_REPORT.md)** ‚Äî –ü–æ–ª–Ω—ã–π –∞—É–¥–∏—Ç

---

## üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –ß—Ç–µ–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞

```python
import json

with open('recommendations_archive.json') as f:
    archive = json.load(f)

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 5 BUY —Å–∏–≥–Ω–∞–ª–æ–≤
for item in archive[-5:]:
    print(f"{item['date']}: {item['ticker']} @ {item['price']}")
```

### –ü—Ä–∏–º–µ—Ä 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Finnhub (US –∞–∫—Ü–∏–∏)

```python
from news_integration import NewsIntegration, FinnhubNewsProvider

finnhub = FinnhubNewsProvider(api_key="YOUR_KEY")
news = NewsIntegration(provider=finnhub)

articles = news.search_news("AAPL")
for a in articles:
    print(f"{a['title']} ({a['sentiment']})")
```

### –ü—Ä–∏–º–µ—Ä 3: –°–æ–∑–¥–∞–Ω–∏–µ MOEX –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (–∫–æ–≥–¥–∞ –≤—ã–π–¥–µ—Ç API)

```python
# news_providers/moex.py
from news_integration import NewsProvider

class MOEXNewsProvider(NewsProvider):
    def search_news(self, ticker, max_results=5):
        # –¢–≤–æ–π –∫–æ–¥ –∑–¥–µ—Å—å
        pass
    
    def get_name(self):
        return "MOEXNewsProvider"

# main.py
from news_integration import NewsIntegration
from news_providers.moex import MOEXNewsProvider

news = NewsIntegration(provider=MOEXNewsProvider())
```

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** [PROVIDER_TEMPLATE.md](PROVIDER_TEMPLATE.md)

---

## üéØ Next Steps

- [ ] –ó–∞–ø—É—Å—Ç–∏ `python main.py analyze`
- [ ] –ü–æ—Å–º–æ—Ç—Ä–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ `reports/`
- [ ] –°–æ–∑–¥–∞–π HTML –æ—Ç—á—ë—Ç —á–µ—Ä–µ–∑ `promt.txt`
- [ ] –ö–æ–≥–¥–∞ MOEX API –≤—ã–π–¥–µ—Ç ‚Üí —Å–æ–∑–¥–∞–π `MOEXNewsProvider` –ø–æ —à–∞–±–ª–æ–Ω—É

---

**–í–µ—Ä—Å–∏—è:** v1.0 | **–î–∞—Ç–∞:** –ù–æ—è–±—Ä—å 2025 | **–°—Ç–∞—Ç—É—Å:** ‚úÖ Production Ready

